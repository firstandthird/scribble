<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>scribble example</title>
    <link rel="stylesheet" href="../lib/scribble.css"/>
  </head>
  <body>
    <canvas id="test" width="500" height="500"></canvas>

    <button id="undo">Undo</button>
    <button id="redo">Redo</button>
    <button id="eraser">Eraser</button>
    <button id="pencil">Pencil</button>
    <button id="console">Export JSON to console</button>
    <script src="../bower_components/jquery/jquery.min.js"></script>
    <script src="../bower_components/fidel/dist/fidel.min.js"></script>
    <script src="../dist/scribble.js"></script>
    <script>
      (function(){
        var scribble = $('#test').scribble(),
            scribbleFidel = $('#test').data('scribble');

        $('#undo').on('click',function(e){
          e.preventDefault();
          scribbleFidel.undo();
        });
        $('#redo').on('click',function(e){
          e.preventDefault();
          scribbleFidel.redo();
        });
        $('#eraser').on('click',function(e){
          e.preventDefault();
          scribbleFidel.changeTool('eraser');
        });
        $('#pencil').on('click',function(e){
          e.preventDefault();
          scribbleFidel.changeTool('pencil');
        });
        $('#console').on('click',function(e){
          e.preventDefault();
          console.log(scribbleFidel.toJSON());
          console.log(JSON.stringify(scribbleFidel.toJSON()));
        });

        scribble.on('drawing.changed',function(e){
          console.log('Drawing has been changed');
        });
      })()
    </script>
  </body>
</html>
